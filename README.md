# HighloadEmail

32,3 млн пользователей ежемесячная аудитория проекта

100 млн активных аккаунтов

Сегмент: Российская Федерация.

Целевая аудитория: от 6 лет.

# Нагрузка
  Максимальный размер почтового ящика 10Гб
  
  Средний размер почтового ящика 2Гб
  
  Среднее число входящих пискем в день 25
  
  Средний размер письма 100 Кб
  
  Среднее число отправленных писем за неделю 2 
  
  Максимальная дневная аудитория 20 млн
  
  Среднее число запросов на авторизацию на одного человека 10
  
  Вес одного запроса на авторизацию 100байт
  
  Среднее число писем запрашиваемое пользователем в день 25

# Оборудование
  Требуемый объем памяти 10Гб * 100_000_000=953.67 Петабайт
  
  Занятый объем памяти 2Гб * 100_000_000=190.73 Петабайт
  
  Нагрузка на сеть для одного пользователя в день(входящие) 25 * 100кб = 2500кб
  
  Нагрузка на сеть для активной аудитории в день(входящие) 2500кб * 100000000 = 232.83Тб
  
  Нагрузка на сеть для одного пользователя в неделю(исходящие) 2 * 100кб=200кб
  
  Нагрузка на сеть на всю активную аудиторию в неделю(исходящие) 200кб * 100000000=18.6265 Тб
  
# Нагрузка
  
  Нагрузка в секунду на получение входящих сообщений 232.83Тб/24*60*60 = 22.0757 Гбит/с
  
  Нагрузка в секунду на отправку сообщений 18.6265Тб/7*24*60*60 = 0.252314 Гбит/с

# RPS
  отправка 33071.3кб / 100кб = 330
  
  получение 2893506.15 / 100кб = 28935
  
 # Запросы в пике
  
  Авторизация в день: 10 * 100 * 20000000=160 Gbit
  
  Получение списка писем: 2 * 20000000 * 25кб=100000 Gbit
  
  Просмотр письма: 10 * 20000000 * 100кб=600000 Gbit

# Логическая схема БД
  В файле Database Models.go

P.S. сегмент корпоративной почты не рассматривается

# Источники
  https://habr.com/ru/company/yandex/blog/210478/
  https://corp.mail.ru/ru/
  https://yandex.ru/company/press_releases/2007/0918
